---
description: How to run the dev server when the user asks to test or run the app
alwaysApply: false
---

# Dev Server

When the user asks to run the dev server, start a test, or run the app locally:

## Command

```bash
unset CI && pnpm tauri dev
```

Never run bare `pnpm tauri dev` — Cursor sets `CI=1`, which Tauri rejects. See `.cursor/rules/local-builds.mdc`.

## Permissions

The Tauri dev command runs `cargo` and downloads crates. Cursor's sandbox can block Cargo from accessing the registry.

**When running the dev server from Cursor's terminal, request `all` permissions** so Cargo can fetch crates:

```bash
unset CI && pnpm tauri dev
# run with required_permissions: ["all"]
```

Use `is_background: true` since the dev server is long-running. The app window will open when the build finishes.

## Alternatives

- **Web-only (Vite)**: `pnpm dev` — runs the frontend without Tauri; some features (e.g. SQLite, native APIs) won't work.
- **User runs manually**: If the agent's run fails with Cargo/network errors, tell the user to run the command in their own terminal outside Cursor.
