---
description: "Slash command: Diagnose and fix GitHub CI failures"
alwaysApply: false
---

# Fix GitHub CI Errors — BibleMarker

See `fix-gh-ci` skill for general CI workflow. This rule adds BibleMarker-specific details.

## Workflows

| Workflow | Trigger | Jobs |
|----------|---------|------|
| `ci` | push/PR to main | lint (`pnpm run lint`), test (`pnpm test`) |
| `publish` | tag `app-v*` | Tauri builds (macOS, Linux, Windows, iOS) |
| `security` | push/PR to main | semgrep static analysis |

## Local reproduction

| CI step | Local command |
|---------|---------------|
| Lint | `pnpm run lint` |
| Test | `pnpm test` |
| Tauri build | `unset CI && pnpm tauri build` |
| Semgrep | `pip install semgrep && semgrep scan --config auto --severity ERROR` |

**Important**: Always `unset CI` before Tauri commands — see `local-builds` rule.

## Release build gotchas

- macOS builds require Apple signing certs (secrets-only, can't reproduce locally without certs)
- iOS build uses `CI: true` explicitly in the workflow (this is correct for Tauri iOS)
- Icon generation runs `pnpm tauri icon public/icon.svg` during release — ensure `public/icon.svg` exists
