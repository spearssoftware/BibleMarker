---
description: How to run local Tauri builds correctly
alwaysApply: true
---

# Local Tauri Builds

Cursor sets `CI=1` in its shell environment. Tauri CLI interprets this as `--ci 1`, which fails because it only accepts `true`/`false`.

**Always unset `CI` and set `CARGO_HOME` before running Tauri commands:**

```bash
# Dev (uses scripts/tauri-dev.sh which sets CARGO_HOME)
pnpm run tauri:dev

# Build (uses scripts/tauri-build.sh)
pnpm run tauri:build

# Build for specific target
CARGO_HOME="$(pwd)/.cargo-home" unset CI && pnpm tauri build --target aarch64-apple-darwin
```

`CARGO_HOME` makes Cargo use the workspace (writable in Cursor) instead of sandbox-blocked system paths.

`CI=` (empty string) does NOT work -- Tauri still sees the flag. You must fully `unset CI`.

Never run bare `pnpm tauri build` or `pnpm tauri dev` from the Cursor terminal.
